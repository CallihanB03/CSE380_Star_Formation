        -:    0:Source:src/integrator.cpp
        -:    1:#include "../include/particles.hpp"
        -:    2:#include "../include/gravity.hpp"
        -:    3:#include "../include/vec3.hpp"
        -:    4:#include "../include/density.hpp"
        -:    5:#include "../include/hydro.hpp"
        -:    6:#include <vector>
        -:    7:
        -:    8:
function _Z15velocity_verletR9ParticlesRKSt6vectorIfSaIfEES5_S5_f called 0 returned 0% blocks executed 0%
    #####:    9:void velocity_verlet(Particles& P,
        -:   10:                     const std::vector<float>& ax,
        -:   11:                     const std::vector<float>& ay,
        -:   12:                     const std::vector<float>& az,
        -:   13:                     float dt)
        -:   14:{
        -:   15:
    #####:   16:    for (size_t i = 0; i < P.N; i++) {
    %%%%%:   16-block  0
unconditional  0 never executed
    %%%%%:   16-block  1
unconditional  1 never executed
    %%%%%:   16-block  2
branch  2 never executed
branch  3 never executed
    #####:   17:        if (!P.alive[i]) continue;
    %%%%%:   17-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    %%%%%:   17-block  1
unconditional  3 never executed
    #####:   18:        P.vx[i] += 0.5f * ax[i] * dt;
    %%%%%:   18-block  0
call    0 never executed
call    1 never executed
    #####:   19:        P.vy[i] += 0.5f * ay[i] * dt;
call    0 never executed
call    1 never executed
    #####:   20:        P.vz[i] += 0.5f * az[i] * dt;
call    0 never executed
call    1 never executed
        -:   21:
    #####:   22:        P.x[i] += P.vx[i] * dt;
call    0 never executed
call    1 never executed
    #####:   23:        P.y[i] += P.vy[i] * dt;
call    0 never executed
call    1 never executed
    #####:   24:        P.z[i] += P.vz[i] * dt;
call    0 never executed
call    1 never executed
unconditional  2 never executed
        -:   25:    }
    #####:   26:}
        -:   27:
        -:   28:
function _Z22velocity_verlet_cachedR9Particlesff called 0 returned 0% blocks executed 0%
    #####:   29:void velocity_verlet_cached(Particles& P, float dt, float h) {
    #####:   30:    size_t N = P.N;
    #####:   31:    std::vector<float> ax(N, 0.0f), ay(N, 0.0f), az(N, 0.0f);
    %%%%%:   31-block  0
call    0 never executed
call    1 never executed
branch  2 never executed
branch  3 never executed
    %%%%%:   31-block  1
call    4 never executed
call    5 never executed
call    6 never executed
branch  7 never executed
branch  8 never executed
    %%%%%:   31-block  2
call    9 never executed
call   10 never executed
call   11 never executed
branch 12 never executed
branch 13 never executed
    %%%%%:   31-block  3
call   14 never executed
    $$$$$:   31-block  4
unconditional 15 never executed
    $$$$$:   31-block  5
unconditional 16 never executed
    $$$$$:   31-block  6
unconditional 17 never executed
    $$$$$:   31-block  7
unconditional 18 never executed
    $$$$$:   31-block  8
unconditional 19 never executed
    $$$$$:   31-block  9
unconditional 20 never executed
        -:   32:
        -:   33:    // 1. Compute forces at t
    #####:   34:    compute_gravity(P, ax, ay, az);
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   35:    compute_density_sph(P, h);
    %%%%%:   35-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   36:    compute_pressure_forces(P, h, ax, ay, az);
    %%%%%:   36-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
        -:   37:
        -:   38:    // 2. Half-step velocity & full-step position
    #####:   39:    for (size_t i = 0; i < N; ++i) {
    %%%%%:   39-block  0
unconditional  0 never executed
    %%%%%:   39-block  1
unconditional  1 never executed
    %%%%%:   39-block  2
branch  2 never executed
branch  3 never executed
    #####:   40:        if (!P.alive[i]) continue;
    %%%%%:   40-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    %%%%%:   40-block  1
unconditional  3 never executed
    #####:   41:        P.vx[i] += 0.5f * ax[i] * dt;
    %%%%%:   41-block  0
call    0 never executed
call    1 never executed
    #####:   42:        P.vy[i] += 0.5f * ay[i] * dt;
call    0 never executed
call    1 never executed
    #####:   43:        P.vz[i] += 0.5f * az[i] * dt;
call    0 never executed
call    1 never executed
        -:   44:
    #####:   45:        P.x[i] += P.vx[i] * dt;
call    0 never executed
call    1 never executed
    #####:   46:        P.y[i] += P.vy[i] * dt;
call    0 never executed
call    1 never executed
    #####:   47:        P.z[i] += P.vz[i] * dt;
call    0 never executed
call    1 never executed
unconditional  2 never executed
        -:   48:    }
        -:   49:
        -:   50:    // 3. Recompute densities and forces at t+dt
    #####:   51:    compute_density_sph(P, h);          // <-- MUST recompute
    %%%%%:   51-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   52:    compute_gravity(P, ax, ay, az);
    %%%%%:   52-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    #####:   53:    compute_pressure_forces(P, h, ax, ay, az);
    %%%%%:   53-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
        -:   54:
        -:   55:    // 4. Complete velocity half-step
    #####:   56:    for (size_t i = 0; i < N; ++i) {
    %%%%%:   56-block  0
unconditional  0 never executed
    %%%%%:   56-block  1
unconditional  1 never executed
    %%%%%:   56-block  2
branch  2 never executed
branch  3 never executed
    #####:   57:        if (!P.alive[i]) continue;
    %%%%%:   57-block  0
call    0 never executed
branch  1 never executed
branch  2 never executed
    %%%%%:   57-block  1
unconditional  3 never executed
    #####:   58:        P.vx[i] += 0.5f * ax[i] * dt;
    %%%%%:   58-block  0
call    0 never executed
call    1 never executed
    #####:   59:        P.vy[i] += 0.5f * ay[i] * dt;
call    0 never executed
call    1 never executed
    #####:   60:        P.vz[i] += 0.5f * az[i] * dt;
call    0 never executed
call    1 never executed
unconditional  2 never executed
        -:   61:    }
    #####:   62:}
    %%%%%:   62-block  0
call    0 never executed
call    1 never executed
call    2 never executed
unconditional  3 never executed
    $$$$$:   62-block  1
call    4 never executed
    $$$$$:   62-block  2
call    5 never executed
    $$$$$:   62-block  3
call    6 never executed
